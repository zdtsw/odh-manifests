apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- odh-dashboard-crd.yaml
- role.yaml
- cluster-role.yaml
- service-account.yaml
- role-binding.yaml
- cluster-role-binding.yaml
- cluster-monitoring-role-binding.yaml
- deployment.yaml
- routes.yaml
- service.yaml
- odh-application-crd.yaml
- odh-document-crd.yaml
- odh-quick-start-crd.yaml
- model-serving-role.yaml
- model-serving-role-binding.yaml

configMapGenerator:
- envs:
  - params.env
  name: odh-dashboard-image-parameters

generatorOptions:
  disableNameSuffixHash: true

configurations:
- params.yaml

labels:
- includeSelectors: true
  pairs:
    app: rhods-dashboard
    app.kubernetes.io/part-of: rhods-dashboard
replacements:
- source:
    fieldPath: data.odh-dashboard-image
    kind: ConfigMap
    name: odh-dashboard-image-parameters
    version: v1
  targets:
  - fieldPaths:
    - spec.template.spec.containers.0.image
    select:
      group: apps
      kind: Deployment
      name: rhods-dashboard
      version: v1
